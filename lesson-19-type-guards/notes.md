[üîô](/README.md)

## Lesson #19. Type Guards

### –ò—Å–ø–æ–ª—å–∑—Ä–≤–∞–Ω–∏–µ Type Guards

–í TypeScript, Type Guards (—Å—Ç—Ä–∞–∂–∏ —Ç–∏–ø–æ–≤) –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—É –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –∫–æ–¥–∞. –û–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ—à–∏–±–æ–∫.

–û–¥–∏–Ω –∏–∑ –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Type Guards - —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `typeof` –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞.

–ü—Ä–∏–º–µ—Ä—ã:

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `typeof`:**

   ```typescript
   function printLength(value: string | number): void {
   	if (typeof value === 'string') {
   		console.log(value.length) // TypeScript –∑–Ω–∞–µ—Ç, —á—Ç–æ `value` - —Å—Ç—Ä–æ–∫–∞
   	} else {
   		console.log(value.toFixed(2)) // TypeScript –∑–Ω–∞–µ—Ç, —á—Ç–æ `value` - —á–∏—Å–ª–æ
   	}
   }
   ```

   –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ `typeof value === 'string'` —è–≤–ª—è–µ—Ç—Å—è TypeGuard-–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç TypeScript –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `value` –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ —É—Å–ª–æ–≤–∏—è —è–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–π.

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å–≤–æ–π—Å—Ç–≤–∞:**

   ```typescript
   interface Car {
   	brand: string
   	speed: number
   }

   function displaySpeed(vehicle: Car | { speed: number }): void {
   	if ('brand' in vehicle) {
   		console.log(vehicle.speed) // TypeScript –∑–Ω–∞–µ—Ç, —á—Ç–æ `vehicle` –∏–º–µ–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ `speed`
   	} else {
   		console.log(vehicle) // TypeScript –∑–Ω–∞–µ—Ç, —á—Ç–æ `vehicle` –∏–º–µ–µ—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–π—Å—Ç–≤–æ `speed`
   	}
   }
   ```

   –ó–¥–µ—Å—å –ø—Ä–æ–≤–µ—Ä–∫–∞ `'brand' in vehicle` —è–≤–ª—è–µ—Ç—Å—è TypeGuard-–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç TypeScript –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —á—Ç–æ `vehicle` - —ç—Ç–æ –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `Car`.

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö Type Guards:**

   TypeScript —Ç–∞–∫–∂–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã—Å—Ç—É–ø–∞—é—Ç –≤ —Ä–æ–ª–∏ Type Guards. –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º Type Guard.

   ```typescript
   interface Person {
   	name: string
   	age: number
   }

   function isPerson(obj: any): obj is Person {
   	return 'name' in obj && 'age' in obj
   }

   if (isPerson(user)) {
   	console.log(user.name) // TypeScript –∑–Ω–∞–µ—Ç, —á—Ç–æ `user` - —ç—Ç–æ –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `Person`
   }
   ```

   –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ `obj is Person` —É–∫–∞–∑—ã–≤–∞–µ—Ç TypeScript –Ω–∞ —Ç–æ, —á—Ç–æ, –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`, —Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Ç–µ–ø–µ—Ä—å —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `Person`.

Type Guards –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –æ—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è TypeScript –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ —Ç–∏–ø—ã –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —á–∞—Å—Ç—è—Ö –∫–æ–¥–∞.
