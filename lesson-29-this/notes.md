[ðŸ”™](/README.md)

## Lesson #29. This

### ÐšÐ¾Ð½Ñ‚ÐµÐºÑÑ‚

`this` Ð² TypeScript Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‚Ð°Ðº Ð¶Ðµ, ÐºÐ°Ðº Ð¸ Ð² JavaScript. ÐžÐ½ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ ÑÐ¾Ð±Ð¾Ð¹ ÑÑÑ‹Ð»ÐºÑƒ Ð½Ð° Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¾Ð±ÑŠÐµÐºÑ‚, Ð² ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ðµ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ. ÐžÐ´Ð½Ð°ÐºÐ¾, Ð² TypeScript, Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñ€ÐµÐ»Ð¾Ñ‡Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¸Ð·Ð¼ÐµÐ½ÑÑŽÑ‚ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ `this`.

Ð¿Ñ€Ð¸Ð¼ÐµÑ€:

```typescript
class MyClass {
	private myProperty: number = 42

	// ÐžÐ±Ñ‹Ñ‡Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ
	regularFunction() {
		console.log(this.myProperty)
	}

	// Ð¡Ñ‚Ñ€ÐµÐ»Ð¾Ñ‡Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ
	arrowFunction = () => {
		console.log(this.myProperty)
	}
}

const myObject = new MyClass()

myObject.regularFunction() // Ð’Ñ‹Ð²ÐµÐ´ÐµÑ‚: 42
myObject.arrowFunction() // Ð¢Ð¾Ð¶Ðµ Ð²Ñ‹Ð²ÐµÐ´ÐµÑ‚: 42
```

Ð’ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ `regularFunction`, Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ `this` Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ Ñ‚Ð¾Ð³Ð¾, ÐºÐ°Ðº Ð¾Ð½Ð° Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ. Ð’ Ð¼ÐµÑ‚Ð¾Ð´Ðµ `arrowFunction`, `this` Ð¿Ñ€Ð¸Ð²ÑÐ·Ð°Ð½ Ðº Ð¾Ð±ÑŠÐµÐºÑ‚Ñƒ, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ Ð¾Ð½ Ð±Ñ‹Ð» ÑÐ¾Ð·Ð´Ð°Ð½, Ñ‡Ñ‚Ð¾ Ð´ÐµÐ»Ð°ÐµÑ‚ ÐµÐ³Ð¾ Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ð¼ Ð² ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ðµ ÐºÐ»Ð°ÑÑÐ¾Ð².

### ÐŸÐ¾Ñ‚ÐµÑ€Ñ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð°

ÐŸÐ¾Ñ‚ÐµÑ€Ñ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð° (Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ñ `this`) Ñ‡Ð°ÑÑ‚Ð¾ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ°ÐµÑ‚ Ð² JavaScript Ð¸ TypeScript, ÐºÐ¾Ð³Ð´Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð½Ðµ Ð² Ñ‚Ð¾Ð¼ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ðµ, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ Ð±Ñ‹Ð»Ð° Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð°. Ð­Ñ‚Ð¾ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€Ð¾Ð¸Ð·Ð¾Ð¹Ñ‚Ð¸, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, ÐºÐ¾Ð³Ð´Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿ÐµÑ€ÐµÐ´Ð°ÐµÑ‚ÑÑ ÐºÐ°Ðº Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ñ‹Ð¹ Ð²Ñ‹Ð·Ð¾Ð² Ð¸Ð»Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ Ð² Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¹.

ÐŸÑ€Ð¸Ð¼ÐµÑ€:

```typescript
class MyClass {
	private myProperty: number = 42

	constructor() {
		this.handleClick = this.handleClick.bind(this)
	}

	handleClick() {
		console.log(this.myProperty)
	}
}

const myObject = new MyClass()
const clickHandler = myObject.handleClick

// Ð—Ð´ÐµÑÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ Ñ‚ÐµÑ€ÑÐµÑ‚ÑÑ, Ð¸ Ð±ÑƒÐ´ÐµÑ‚ Ð¾ÑˆÐ¸Ð±ÐºÐ°
clickHandler()
```

CÐ¿Ð¾ÑÐ¾Ð±Ñ‹ Ð¸Ð·Ð±ÐµÐ¶Ð°Ñ‚ÑŒ Ð¿Ð¾Ñ‚ÐµÑ€Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð°:

1. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ð° `bind`:
   Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¼ÐµÑ‚Ð¾Ð´ `bind` Ð´Ð»Ñ ÑÐ²Ð½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¸Ð²ÑÐ·Ñ‹Ð²Ð°Ð½Ð¸Ñ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð° Ðº Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸:

   ```typescript
   const clickHandler = myObject.handleClick.bind(myObject)
   clickHandler() // Ð¢ÐµÐ¿ÐµÑ€ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ Ð½Ðµ Ð¿Ð¾Ñ‚ÐµÑ€ÑÐµÑ‚ÑÑ
   ```

2. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÑ‚Ñ€ÐµÐ»Ð¾Ñ‡Ð½Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹:
   Ð¡Ñ‚Ñ€ÐµÐ»Ð¾Ñ‡Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð½Ðµ ÑÐ¾Ð·Ð´Ð°ÑŽÑ‚ ÑÐ²Ð¾ÐµÐ³Ð¾ ÑÐ¾Ð±ÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð° `this` Ð¸ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð·Ð°Ð¸Ð¼ÑÑ‚Ð²ÑƒÑŽÑ‚ ÐµÐ³Ð¾ Ð¸Ð· Ð¾ÐºÑ€ÑƒÐ¶Ð°ÑŽÑ‰ÐµÐ¹ Ð¾Ð±Ð»Ð°ÑÑ‚Ð¸ Ð²Ð¸Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸:

   ```typescript
   class MyClass {
   	private myProperty: number = 42

   	handleClick = () => {
   		console.log(this.myProperty)
   	}
   }

   const myObject = new MyClass()
   const clickHandler = myObject.handleClick
   clickHandler() // ÐšÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ
   ```

3. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ `bind` Ð¿Ñ€Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‡Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð²:
   Ð•ÑÐ»Ð¸ Ð²Ñ‹ Ð¿ÐµÑ€ÐµÐ´Ð°ÐµÑ‚Ðµ Ð¼ÐµÑ‚Ð¾Ð´ ÐºÐ°Ðº Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð¸Ð»Ð¸ ÐºÐ¾Ð»Ð±ÐµÐº, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ `bind`:

   ```typescript
   const myObject = new MyClass()
   someElement.addEventListener('click', myObject.handleClick.bind(myObject))
   ```

4. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÑ‚Ñ€ÐµÐ»Ð¾Ñ‡Ð½Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹ Ð² ÐºÐ¾Ð»Ð±ÐµÐºÐ°Ñ…:
   Ð•ÑÐ»Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÑÑ‚Ñ€ÐµÐ»Ð¾Ñ‡Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¿Ñ€Ð¸ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ð¸ ÐºÐ¾Ð»Ð±ÐµÐºÐ¾Ð²:

   ```typescript
   const myObject = new MyClass()
   someFunction(() => myObject.handleClick())
   ```
